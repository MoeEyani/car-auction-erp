# 🏢 نظام ERP لإدارة مزادات السيارات

## 📋 **نظرة عامة**

نظام إدارة موارد المؤسسة (ERP) متخصص في إدارة مزادات السيارات مع نظام صلاحيات متقدم وإدارة متعددة الفروع.

### **🔗 الروابط الهامة:**
- **المستودع:** [GitHub Repository](https://github.com/MoeEyani/car-auction-erp)
- **الفرع الحالي:** `main`
- **آخر إصدار:** `v1.0-pre-permissions-update`

---

## 🎯 **الميزات الرئيسية**

### **🔐 نظام الصلاحيات المتقدم**
- **19 صلاحية** موزعة على 6 وحدات رئيسية
- **12 قالب دور** محدد مسبقاً وقابل للتخصيص
- **7 أدوار** (4 نظامية + 3 مخصصة)
- **نظام عزل الفروع** مع حماية البيانات
- **تجاوزات صلاحيات فردية** للمرونة

### **🏢 إدارة متعددة الفروع**
- عزل كامل للبيانات بين الفروع
- إدارة مستخدمين مخصصة لكل فرع
- تحكم دقيق في الوصول والصلاحيات

### **👥 إدارة المستخدمين والأدوار**
- واجهة سهلة لإدارة المستخدمين
- نظام أدوار مرن ومتطور
- قوالب أدوار جاهزة للاستخدام

---

## 🛠️ **التقنيات المستخدمة**

### **Backend (الخادم الخلفي)**
- **NestJS** - إطار عمل Node.js متقدم
- **PostgreSQL** - قاعدة بيانات علائقية
- **Prisma** - ORM حديث وقوي
- **JWT** - المصادقة والتوكن
- **Zod** - التحقق من البيانات
- **Docker** - حاويات التطبيق

### **Frontend (الواجهة الأمامية)**
- **React** - مكتبة واجهة المستخدم
- **TypeScript** - لغة البرمجة المطورة
- **Vite** - أداة البناء السريعة
- **Tailwind CSS** - إطار عمل التصميم
- **React Query** - إدارة حالة الخادم

### **قاعدة البيانات**
- **PostgreSQL 16** - قاعدة البيانات الرئيسية
- **Redis** - التخزين المؤقت
- **Prisma Schema** - نمذجة البيانات

---

## 📊 **هيكل المشروع**

```
erp_project/
├── 📂 erp-backend/          # الخادم الخلفي (NestJS)
│   ├── src/
│   │   ├── auth/           # نظام المصادقة
│   │   ├── users/          # إدارة المستخدمين
│   │   ├── roles/          # إدارة الأدوار والصلاحيات
│   │   ├── branches/       # إدارة الفروع
│   │   └── common/         # المكونات المشتركة
│   └── prisma/             # مخطط قاعدة البيانات
│
├── 📂 erp-frontend/         # الواجهة الأمامية (React)
│   └── src/
│       ├── components/     # المكونات المشتركة
│       ├── pages/          # صفحات التطبيق
│       ├── services/       # خدمات API
│       └── stores/         # إدارة الحالة
│
├── 📂 database/             # ملفات قاعدة البيانات
├── 📂 backups/              # النسخ الاحتياطية والأدوات
├── 📄 docker-compose.yml    # تكوين Docker
└── 📚 التوثيق               # ملفات التوثيق الشاملة
```

---

## 🚀 **التشغيل والتطوير**

### **المتطلبات الأساسية:**
- Node.js 18+
- Docker & Docker Compose
- PostgreSQL 16+
- Git

### **خطوات التشغيل:**

1. **استنساخ المشروع:**
```bash
git clone https://github.com/MoeEyani/car-auction-erp.git
cd car-auction-erp
```

2. **تشغيل قاعدة البيانات:**
```bash
docker-compose up -d postgres redis
```

3. **تشغيل الخادم الخلفي:**
```bash
cd erp-backend
npm install
npm run dev
```

4. **تشغيل الواجهة الأمامية:**
```bash
cd erp-frontend
npm install
npm run dev
```

### **الروابط:**
- **الواجهة الأمامية:** http://localhost:5173
- **API الخلفي:** http://localhost:3000
- **قاعدة البيانات:** localhost:5432

---

## 🔐 **نظام الصلاحيات**

### **الوحدات المغطاة:**
1. **النظام** - إدارة النظام العامة
2. **الفروع** - إدارة الفروع والمواقع
3. **المستخدمين** - إدارة حسابات المستخدمين
4. **الأدوار** - إدارة الأدوار والصلاحيات
5. **العملاء** - إدارة بيانات العملاء
6. **العام** - الوظائف الأساسية

### **قوالب الأدوار المتاحة:**
- **الإدارة:** مدير فرع، مساعد مدير، مدير إقليمي
- **العمليات:** مشرف عمليات، منسق مبيعات، مدير مخزون، موظف عام
- **الدعم:** ممثل خدمة عملاء، أخصائي دعم فني
- **المالية:** محاسب فرع، أمين صندوق، محلل مالي

---

## 💾 **النسخ الاحتياطية**

### **الأدوات المتاحة:**
- **نسخ احتياطي تلقائي:** `backups/daily_backup.ps1`
- **استعادة قاعدة البيانات:** `backups/restore_database.ps1`
- **دليل شامل:** `backups/README.md`

### **أنواع النسخ:**
- نسخ SQL عادية (.sql)
- نسخ مضغوطة (.dump)
- سجل النسخ الاحتياطية (JSON)

---

## 📚 **التوثيق الشامل**

| الملف | الوصف |
|-------|--------|
| `PERMISSIONS_SYSTEM_EXPLAINED.md` | دليل شامل لنظام الصلاحيات |
| `ROLE_TEMPLATES_COMPLETE.md` | قوالب الأدوار الكاملة |
| `SECURITY_REVIEW.md` | مراجعة الأمان والحماية |
| `backups/README.md` | دليل النسخ الاحتياطية |

---

## 🔧 **المساهمة والتطوير**

### **معايير الكود:**
- استخدام TypeScript للكتابة الآمنة
- اتباع معايير ESLint و Prettier
- كتابة تعليقات وتوثيق شامل
- اختبارات شاملة للوظائف الحساسة

### **سير العمل:**
1. إنشاء فرع جديد للميزة
2. التطوير والاختبار
3. مراجعة الكود
4. دمج في الفرع الرئيسي

---

## 📝 **تاريخ الإصدارات**

| الإصدار | التاريخ | الوصف |
|---------|--------|-------|
| v1.0-pre-permissions-update | 2025-09-23 | نسخة مستقرة قبل التحديث النهائي |
| - | - | نظام صلاحيات كامل مع 19 صلاحية |
| - | - | 12 قالب دور محدد مسبقاً |
| - | - | نظام نسخ احتياطي متكامل |

---

## 🎯 **الخطط المستقبلية**

### **المرحلة التالية:**
- [ ] تحسينات نظام الصلاحيات
- [ ] واجهات مستخدم محسنة
- [ ] تقارير وإحصائيات متقدمة
- [ ] نظام مزادات السيارات الكامل
- [ ] تطبيق الهاتف المحمول

### **التحسينات المخططة:**
- [ ] صلاحيات مؤقتة ومحددة بوقت
- [ ] تدقيق شامل للعمليات
- [ ] تنبيهات أمنية متقدمة
- [ ] تكامل مع أنظمة خارجية

---

## 📞 **الدعم والتواصل**

- **المطور:** MoeEyani
- **المستودع:** [car-auction-erp](https://github.com/MoeEyani/car-auction-erp)
- **المشاكل:** GitHub Issues
- **الاقتراحات:** GitHub Discussions

---

## 📄 **الترخيص**

هذا المشروع مرخص تحت [رخصة MIT](LICENSE) - انظر ملف الترخيص للتفاصيل.

---

## 🎉 **شكر خاص**

شكر خاص لجميع المساهمين والمطورين الذين ساعدوا في تطوير هذا النظام المتقدم لإدارة مزادات السيارات.

**آخر تحديث:** 2025-09-23 | **الحالة:** 🟢 نشط ومستقر